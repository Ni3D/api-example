# Task Manager API
RESTful API для управления задачами с системой пользователей и админ-панелью
# Возможности
## Пользовательская система
- Регистрация с подтверждением email
- Аутентификация через JWT (access/refresh токены)
- Восстановление пароля через email
- Управление профилем (обновление данных, смена пароля)
- Загрузка аватара с валидацией изображений
## Управление задачами
- Создание задач с назначением исполнителя
- Просмотр задач (созданные, назначенные)
- Редактирование задач (только создателем)
- Удаление задач (soft delete)
- Фильтрация по статусу, дедлайну, исполнителю
## Административная панель
- Управление пользователями (просмотр, удаление)
- Просмотр всех задач в системе
- Статистика по задачам пользователей
- Фильтрация и поиск по имени пользователя, email, статусу подтверждения email, роли и статусу блокировки
## Технологии
- Node.js + Express - серверная часть
- MySQL + Sequelize ORM - база данных
- JWT - аутентификация
- bcrypt - хеширование паролей
- Multer - загрузка файлов
- Nodemailer - отправка email
- Morgan - логирование запросов
## Структура проекта
```
├── app/
│   ├── controllers/     # Контроллеры для обработки запросов
│   ├── middleware/      # Middleware (аутентификация, загрузка файлов)
│   ├── models/          # Модели Sequelize (User, Task, Token)
│   ├── routes/          # Маршруты (auth, me, admin)
│   ├── services/        # Сервисы (JWT, Email)
│   └── utils/           # Утилиты (форматирование ответов, обработка ошибок)
├── db/
│   ├── migrations/      # Миграции базы данных
│   └── config/          # Конфигурация БД
├── uploads/             # Загруженные файлы
├── .env                 # Файл настроек переменных окружения
├── .env.example         # Пример переменных окружения
├── package.json         # Зависимости и скрипты
└── index.js             # Точка входа
```
# Предварительные требования
- Операционная система **Windows 10** или выше
- **Node.js** (версия 14 или выше) — [скачать с официального сайта](https://nodejs.org/)
- **MySQL** — [скачать с официального сайта](https://dev.mysql.com/downloads/)
- **MySQL Workbench** (рекомендуется) или другой клиент для работы с БД
# Установка и запуск
## Подготовка базы данных
- Откройте MySQL Workbench или консоль
- Создайте базу данных: ```database_development``` - для работы в режиме разработки, ```database_production``` - для работы в режиме продакшена
## Подготовка проекта
- Скопируйте файлы проекта в удобную папку, например в ```C:\api-example```
## Настройка переменных окружения
- Скопируйте файл ```.env.example``` в корне проекта и переименуйте его в ```.env```
- Откройте ```.env``` в любом текстовом редакторе и задайте все необходимые параметры
## Установка зависимостей
- Откройте командную строку (CMD/PowerShell) и перейдите в папку проекта командой ```cd C:\api-example```
- Выполните в командной строке: ```npm install```
- Проверьте корректность данных подключения в файле ```/db/config/config.json```
## Применение миграций
Выполните в командной строке в зависимости от режима:
- для разработки: ```npm run migrate:dev```
- для продакшена: ```npm run migrate:prod```
## Создание папок для загрузок
Выполните в командной строке: ```mkdir uploads``` и ```mkdir uploads\avatars```
## Создание учётной записи администратора
Выполните в командной строке:
- ```npm run create-admin:dev``` для создания учётной записи администратора в базе для development режима
- ```npm run create-admin:prod``` для создания учётной записи администратора в базе для production режима\
(Логин и пароль администратора задаются в файле ```.env```)
## Запуск приложения
Для запуска приложени выполните в командной строке:
- режим разработки ```npm run start:dev```
- продакшен-режим ```npm run start:prod```